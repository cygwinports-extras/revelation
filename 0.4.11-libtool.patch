--- origsrc/revelation-0.4.11/configure.ac	2007-01-16 04:39:13.000000000 -0600
+++ src/revelation-0.4.11/configure.ac	2007-01-17 23:07:13.765625000 -0600
@@ -12,6 +12,8 @@
 
 dnl check for dependencies
 AC_PROG_CC()
+AC_DISABLE_STATIC
+AC_PROG_LIBTOOL
 
 RVL_PYTHON_PATH(2.3)
 RVL_PYGTK()
--- origsrc/revelation-0.4.11/src/wrap/crack/Makefile.am	2006-06-11 13:17:22.000000000 -0500
+++ src/revelation-0.4.11/src/wrap/crack/Makefile.am	2007-01-17 23:07:13.812500000 -0600
@@ -5,8 +5,14 @@
 # $Id: revelation-0.4.11-2.src.patch,v 1.1 2007-05-31 05:27:55 yselkowitz Exp $
 #
 
-module_PROGRAMS	= crack.so
-moduledir	= $(pyexecdir)/revelation
+moduledir = $(pyexecdir)/revelation
+module_LTLIBRARIES = crack.la
+
+nodist_crack_la_SOURCES = crack.c
+crack_la_CFLAGS = -fno-strict-aliasing -I${PYTHON_INCLUDE}
+crack_la_LDFLAGS = -module -avoid-version -no-undefined
+crack_la_LIBADD = -L/usr/lib/python$(PYTHON_VERSION)/config -lpython$(PYTHON_VERSION)
+
 CLEANFILES	= crack.c
 EXTRA_DIST	= crack.c.in
 
